<template>
  <div class="page" data-name="chat_details">
    <div class="navbar" style="background: #125e97;">
      <div class="navbar-inner sliding">
        <div class="left">
          <a href="#" class="link back">
            <i class="icon icon-back color-white"></i>
            <span class="ios-only color-white">Back</span>
          </a>
          <a
            href=""
            class="link popup-open"
            style=" margin-left: -16px; "
            data-popup=".popup-profileview"
          >
            <img
              id="imgChatProfile"
              style="height: 40px; width: 40px; border-radius: 50%;background: white;"
            />
          </a>
        </div>
        <div class="title" style="color: #fff;margin: 0px;font-size:16px;">
          <small id="imgChatProfileName">John Cena</small>
        </div>
        <div class="right">
          <a
            href="#"
            class="link popover-open"
            data-popover=".popover-morechat"
          >
            <i class="material-icons">
              more_vert
            </i>
          </a>
        </div>
        <!-- <div id="chatId" style="display:none;">{{$route.params.id}}</div> -->
      </div>
    </div>
    <div class="toolbar messagebar" style="background: #fff;">
      <div class="toolbar-inner">
        <div class="messagebar-area">
          <textarea
            class="resizable"
            placeholder="Message"
            id="txtMessage"
          ></textarea>
        </div>
        <a
          class="link send-link"
          onclick="app.sendMessage({{ $route.params.id }})"
          href="#"
          ><i class="material-icons">send</i></a
        >
      </div>
    </div>
    <div class="page-content messages-content">
      <div class="messages" id="messages">
        <!-- Messages title -->
        <!-- <div class="messages-title"><b>Sunday, Feb 9,</b> 12:58</div> -->
        <!-- Full layout sent message -->
        <!-- <div class="message message-sent">
          <div class="message-content">
            <div class="message-header">Message header</div>
            <div class="message-bubble">
              <div class="message-text-header">Text header</div>
              <div class="message-text">
                Lorem ipsum dolor sit amet, consectetur adipisicing elit.
              </div>
              <div class="message-text-footer">Text footer</div>
            </div>
            <div class="message-footer">Message footer</div>
          </div>
        </div> -->
        <!-- Full layout received message -->
        <!-- <div class="message message-received">
          <div class="message-content">
            <div class="message-name">John Doe</div>
            <div class="message-header">Message header</div>
            <div class="message-bubble">
              <div class="message-text-header">Text header</div>
              <div class="message-text">Lorem ipsum dolor sit amet, consectetur adipisicing elit.</div>
              <div class="message-text-footer">Text footer</div>
            </div>
            <div class="message-footer">Message footer</div>
          </div>
        </div> -->
        <!-- Messages -->
        <!-- <div class="message message-sent">
          <div class="message-content">
            <div class="message-bubble">
              <div class="message-text">Hi, Kate</div>
            </div>
          </div>
        </div>
        <div class="message message-sent">
          <div class="message-content">
            <div class="message-bubble">
              <div class="message-text">How are you?</div>
            </div>
          </div>
        </div>
        <div class="message message-received">
          <div
            class="message-avatar"
            style="background-image:url(https://cdn.framework7.io/placeholder/people-100x100-9.jpg);"
          ></div>
          <div class="message-content">
            <div class="message-name">Kate</div>
            <div class="message-bubble">
              <div class="message-text">Hi, I am good!</div>
            </div>
          </div>
        </div>
        <div class="message message-received">
          <div
            class="message-avatar"
            style="background-image:url(https://cdn.framework7.io/placeholder/people-100x100-7.jpg);"
          ></div>
          <div class="message-content">
            <div class="message-name">Blue Ninja</div>
            <div class="message-bubble">
              <div class="message-text">
                Hi there, I am also fine, thanks! And how are you?
              </div>
            </div>
          </div>
        </div>
        <div class="message message-sent">
          <div class="message-content">
            <div class="message-bubble">
              <div class="message-text">
                Hey, Blue Ninja! Glad to see you ;)
              </div>
            </div>
          </div>
        </div>
        <div class="message message-sent">
          <div class="message-content">
            <div class="message-bubble">
              <div class="message-text">Hey, look, cutest kitten ever!</div>
            </div>
          </div>
        </div>
        <div class="message message-sent">
          <div class="message-content">
            <div class="message-bubble">
              <div class="message-image">
                <img
                  src="https://cdn.framework7.io/placeholder/cats-200x260-4.jpg"
                  style="width:200px; height: 260px;"
                />
              </div>
            </div>
          </div>
        </div>
        <div class="message message-received">
          <div
            class="message-avatar"
            style="background-image:url(https://cdn.framework7.io/placeholder/people-100x100-9.jpg);"
          ></div>
          <div class="message-content">
            <div class="message-name">Kate</div>
            <div class="message-bubble">
              <div class="message-text">Nice!</div>
            </div>
          </div>
        </div>
        <div class="message message-received">
          <div
            class="message-avatar"
            style="background-image:url(https://cdn.framework7.io/placeholder/people-100x100-9.jpg);"
          ></div>
          <div class="message-content">
            <div class="message-name">Kate</div>
            <div class="message-bubble">
              <div class="message-text">Like it very much!</div>
            </div>
          </div>
        </div>
        <div class="message message-received">
          <div
            class="message-avatar"
            style="background-image:url(https://cdn.framework7.io/placeholder/people-100x100-7.jpg);"
          ></div>
          <div class="message-content">
            <div class="message-name">Blue Ninja</div>
            <div class="message-bubble">
              <div class="message-text">Awesome!</div>
            </div>
          </div>
        </div> -->
      </div>
    </div>
  </div>
</template>
<script>
  return {
    on: {
      pageInit: function(e, page) {
        $("#main_toolbar").hide();
        // let userId = $('#chatId').html();
        // console.log($route.params.id);

        var messagebar = newApp.messagebar.create({
          el: ".messagebar",
          scrollMessagesOnEdge: true,
          autoLayout: true,
          scrollMessages: true
        });
      },
      pageBeforeOut: function(e, page) {
        clearInterval(intervalMessage);
        $("#main_toolbar").show();
      }
    }
  };
</script>
