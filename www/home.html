<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <!--
  Customize this policy to fit your own app's needs. For more guidance, see:
      https://github.com/apache/cordova-plugin-whitelist/blob/master/README.md#content-security-policy
  Some notes:
      * gap: is requi#ef3837 only on iOS (when using UIWebView) and is needed for JS->native communication
      * https://ssl.gstatic.com is requi#ef3837 only on Android and is needed for TalkBack to function properly
      * Disables use of inline scripts in order to mitigate risk of XSS vulnerabilities. To change this:
          * Enable inline JS: add 'unsafe-inline' to default-src
  -->
  <meta http-equiv="Content-Security-Policy" content="default-src * 'self' 'unsafe-inline' 'unsafe-eval' data: gap: content:">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui, viewport-fit=cover">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="theme-color" content="#2196f3">
  <meta name="format-detection" content="telephone=no">
  <meta name="msapplication-tap-highlight" content="no">
  <title>Platter Home</title>

  <link rel="stylesheet" href="framework7/css/framework7.min.css">
  <link rel="stylesheet" href="css/icons.css">
  <link rel="stylesheet" href="css/app.css">
  <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">

</head>

<body style="font-family: 'Montserrat', sans-serif;">
  <div id="app">
    <!-- Status bar overlay for fullscreen mode-->
    <div class="statusbar color-white"></div>

    <!-- Views/Tabs container -->
    <div class="views tabs ios-edges">
      <!-- Tabbar for switching views-tabs -->
      <div class="toolbar tabbar-labels toolbar-bottom-md" style="background: #125e97;">
        <div class="toolbar-inner">
          <a href="#view-home" class="tab-link tab-link-active color-#676767">
            <img src="img/iconset/white/shop.png" style="height: 58%;">
            <span class="tabbar-label" style="color: #fff; font-size: 13px;">Platter</span>
          </a>
          <a href="#view-account" class="tab-link color-#676767">
            <img src="img/iconset/white/user.png" style="height: 58%;">
            <span class="tabbar-label" style="color: #fff; font-size: 13px;">Account</span>
          </a>
          <a href="#view-cart" class="tab-link color-#676767">
            <!-- <i class="icon material-icons md-only">home             </span></i> -->
            <img src="img/iconset/white/cart-empty.png" style="height: 62%;">
            <span class="tabbar-label" style="color: #fff; font-size: 13px;">Cart
          </a>

          <a href="#view-search" class="tab-link color-#676767">
            <img src="img/iconset/white/search.png" style="height: 58%;">
            <span class="tabbar-label" style="color: #fff; font-size: 13px;">Explore</span>
          </a>

          <a href="#view-chat" class="tab-link color-#676767">
            <img src="img/iconset/white/chat.png" style="height: 58%;">
            <span class="tabbar-label" style="color: #fff; font-size: 13px;">Chat</span>
          </a>
        </div>
      </div>
      <!-- Your main view/tab, should have "view-main" class. It also has "tab-active" class -->
      <div id="view-home" class="view view-main tab tab-active">
        <!-- Page, data-name contains page name which can be used in page callbacks -->
        <div class="page" data-name="home">
          <!-- Top Navbar -->
          <div class="navbar " style="background: #125e97;">
            <div class="navbar-inner">
              <div class="title sliding" style="color: #fff;font-size:16px;" id="lblLocality">Garia</div>
              <div class="right">
                <a href="#" class="link icon-only popup-open" data-panel="right" data-popup="#my-popup">
                  <img src="img/control1.png" style="height: 24px;">
                </a>
              </div>
            </div>
          </div>

          <!-- Scrollable page content-->
          <div class="page-content" style="background: #fff">

            <!-- <div class="block-title" style="margin-top:5px; background:#2196f3; margin-bottom: 3px;color: #fff;;margin-left: 0;margin-right: 0;padding: 5px;margin-bottom:5px">
              <strong style="font-size: 12px;">Top Restaurent</strong>
            </div> -->

            <div class="block-title" style="margin-top: 14px;font-weight: 900;">
              <div class="row">
                <div class="col-100" align="left" style="color: #d90022; text-align: center;">
                  <!-- <img src="img/top.png" style="    width: 16%;"><br>TOP RESTAURANTS -->
                  <img src="img/card-images/top5.png" style="width: 33%;">
                </div>
              </div>
            </div>
            <!-- <div class="card" class="card" style="margin-bottom: 10px;" class="card" style="margin-bottom: 10px;">
              <img src="img/card-images/top5.png" style="width:100%;">
            </div> -->
            <div id="lblTopFiveRestaurents"></div>

            <div class="block">
              <div class="list">
                <ul>
                  <li class="accordion-item" style="background-color: #125e97; color: white;">
                    <a href="#" class="item-content item-link">
                      <div class="item-inner">
                        <div class="item-title">
                          <div class="row no-gap">
                            <div class="col-20">
                              <img src="img/002-motorcycle.png" style="width: 75%;">
                            </div>
                            <div class="col-80" style="padding-top: 4.5%;text-overflow: inherit;white-space: normal;">20% Off for first time user ! </div>
                          </div>
                        </div>
                      </div>
                    </a>
                    <div class="accordion-item-content">
                      <div class="block" style="padding-bottom: 14px;">
                        <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quia non deserunt totam, maxime natus ut
                        </p>
                        <a class="button button-raised button-fill popup-open color-orange">GRAB IT</a>
                      </div>
                    </div>
                  </li>
                </ul>
              </div>
            </div>

            <div class="block-title">
              <div class="row">
              <div class="col-100" align="left" style="color: #125e97;">
                12 Restaurants Found
              </div>
            </div>
            </div>
            

            <div class="block" style="margin-top: -11px;">
              <div class="list media-list">
                <ul id="lblTopTwelveRestaurents">
                </ul>
              </div>
            </div>

            <div class="block">
              <div class="list">
                <ul>
                  <li class="accordion-item" style="background-color: #125e97; color: white;">
                    <a href="#" class="item-content item-link">
                      <div class="item-inner">
                        <div class="item-title">
                          <div class="row no-gap">
                            <div class="col-20">
                              <img src="img/002-motorcycle.png" style="width: 75%;">
                            </div>
                            <div class="col-80" style="padding-top: 4.5%;text-overflow: inherit;white-space: normal;">20% Off for first time user ! </div>
                          </div>
                        </div>
                      </div>
                    </a>
                    <div class="accordion-item-content">
                      <div class="block" style="padding-bottom: 14px;">
                        <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quia non deserunt totam, maxime natus ut
                        </p>
                        <a class="button button-raised button-fill popup-open color-orange">GRAB IT</a>
                      </div>
                    </div>
                  </li>
                </ul>
              </div>
            </div>

            <div class="block-title">
              <div class="row">
                <div class="col-80" align="left" style="color: #125e97;">
                  More Restaurants
                </div>
                <div class="col-20" align="right">
                  <a class="link" style="color: #125e97;" href="/restaurent_list/">View all</a>
                </div>
              </div>
            </div>

            <div class="block" style="margin-top: -11px;">
              <div class="list media-list">
                <ul id="lblGeneralRestaurents">
                </ul>
              </div>
            </div>

          </div>
        </div>
      </div>

      <!-- Catalog View -->
      <div id="view-catalog" class="view tab">
        <!-- Catalog page will be loaded here dynamically from /catalog/ route -->
      </div>
      
      <!-- Settings View -->
      <div id="view-cart" class="view tab">
        <!-- Settings page will be loaded here dynamically from /settings/ route -->
      </div>
      
      <!-- Search View -->
      <div id="view-search" class="view tab">
        <!-- Settings page will be loaded here dynamically from /settings/ route -->
      </div>
      
      <!-- Account View -->
      <div id="view-account" class="view tab">
      
      </div>
      
      <!-- Chatting Lsit View -->
      <div id="view-chat" class="view tab">
      </div>
    </div>

    <!-- Filter Popup -->
    <div class="popup" id="my-popup">
      <div class="view">
        <div class="page">
          <div class="navbar" style="background: #125e97;">
            <div class="navbar-inner">
              <a href="#" class="link popup-close icon">
                <i class="icon material-icons md-only" style="color: #fff;">close</i>
              </a>
              <div class="title" style="color: #fff; margin: 0px;">Filter</div>
              <div class="right">
                <a href="#" class="link popup-close icon" style="color: #fff; font-size:15px;">
                  Reset
                </a>
              </div>
            </div>
          </div>

          <div class="page-content">

            <div class="block-title" style="font-weight: 900;color: #125e97;">Select Type</div>
            <div class="block">
              <div class="list">
                <ul>
                  <!-- Single checkbox item -->
                  <li>
                    <label class="item-checkbox item-content">
                      <!-- Checkbox input -->
                      <input type="checkbox" />
                      <!-- Checkbox icon -->
                      <i class="icon icon-checkbox"></i>
                      <div class="item-inner">
                        <!-- Checkbox Title -->
                        <div class="item-title">Veg</div>
                      </div>
                    </label>
                  </li>
                  <li>
                    <label class="item-checkbox item-content">
                      <!-- Checkbox input -->
                      <input type="checkbox" />
                      <!-- Checkbox icon -->
                      <i class="icon icon-checkbox"></i>
                      <div class="item-inner">
                        <!-- Checkbox Title -->
                        <div class="item-title">Non-Veg</div>
                      </div>
                    </label>
                  </li>
                  <!-- Another checkbox item -->
                </ul>
              </div>
            </div>


            <div class="block-title" style="font-weight: 900;color: #125e97;">
              Cuisines Type
            </div>
            <div class="block">
              <div class="list">
                <ul>
                  <!-- Single checkbox item -->
                  <li>
                    <label class="item-checkbox item-content">
                      <!-- Checkbox input -->
                      <input type="checkbox" />
                      <!-- Checkbox icon -->
                      <i class="icon icon-checkbox"></i>
                      <div class="item-inner">
                        <!-- Checkbox Title -->
                        <div class="item-title">Kashmiri</div>
                      </div>
                    </label>
                  </li>
                  <!-- Another checkbox item -->
                  <li>
                    <label class="item-checkbox item-content">
                      <!-- Checked by default -->
                      <input type="checkbox" checked/>
                      <i class="icon icon-checkbox"></i>
                      <div class="item-inner">
                        <div class="item-title">Punjabi</div>
                      </div>
                    </label>
                  </li>
                  <li>
                    <label class="item-checkbox item-content">
                      <!-- Checkbox input -->
                      <input type="checkbox" />
                      <!-- Checkbox icon -->
                      <i class="icon icon-checkbox"></i>
                      <div class="item-inner">
                        <!-- Checkbox Title -->
                        <div class="item-title">Uttar Pradesh</div>
                      </div>
                    </label>
                  </li>
                  <li>
                    <label class="item-checkbox item-content">
                      <!-- Checkbox input -->
                      <input type="checkbox" />
                      <!-- Checkbox icon -->
                      <i class="icon icon-checkbox"></i>
                      <div class="item-inner">
                        <!-- Checkbox Title -->
                        <div class="item-title">Mughalai</div>
                      </div>
                    </label>
                  </li>
                  <li>
                    <label class="item-checkbox item-content">
                      <!-- Checkbox input -->
                      <input type="checkbox" />
                      <!-- Checkbox icon -->
                      <i class="icon icon-checkbox"></i>
                      <div class="item-inner">
                        <!-- Checkbox Title -->
                        <div class="item-title">Rajasthani</div>
                      </div>
                    </label>
                  </li>
                  <li>
                    <label class="item-checkbox item-content">
                      <!-- Checkbox input -->
                      <input type="checkbox" />
                      <!-- Checkbox icon -->
                      <i class="icon icon-checkbox"></i>
                      <div class="item-inner">
                        <!-- Checkbox Title -->
                        <div class="item-title">Gujarati</div>
                      </div>
                    </label>
                  </li>
                  <li>
                    <label class="item-checkbox item-content">
                      <!-- Checkbox input -->
                      <input type="checkbox" />
                      <!-- Checkbox icon -->
                      <i class="icon icon-checkbox"></i>
                      <div class="item-inner">
                        <!-- Checkbox Title -->
                        <div class="item-title">Bengali</div>
                      </div>
                    </label>
                  </li>
                  <li>
                    <label class="item-checkbox item-content">
                      <!-- Checkbox input -->
                      <input type="checkbox" />
                      <!-- Checkbox icon -->
                      <i class="icon icon-checkbox"></i>
                      <div class="item-inner">
                        <!-- Checkbox Title -->
                        <div class="item-title">Andhra</div>
                      </div>
                    </label>
                  </li>
                  <li>
                    <label class="item-checkbox item-content">
                      <!-- Checkbox input -->
                      <input type="checkbox" />
                      <!-- Checkbox icon -->
                      <i class="icon icon-checkbox"></i>
                      <div class="item-inner">
                        <!-- Checkbox Title -->
                        <div class="item-title">Andhra</div>
                      </div>
                    </label>
                  </li>
                  <li>
                    <label class="item-checkbox item-content">
                      <!-- Checkbox input -->
                      <input type="checkbox" />
                      <!-- Checkbox icon -->
                      <i class="icon icon-checkbox"></i>
                      <div class="item-inner">
                        <!-- Checkbox Title -->
                        <div class="item-title">Tamilian</div>
                      </div>
                    </label>
                  </li>
                  <li>
                    <label class="item-checkbox item-content">
                      <!-- Checkbox input -->
                      <input type="checkbox" />
                      <!-- Checkbox icon -->
                      <i class="icon icon-checkbox"></i>
                      <div class="item-inner">
                        <!-- Checkbox Title -->
                        <div class="item-title">Kerala</div>
                      </div>
                    </label>
                  </li>
                </ul>
              </div>
            </div>

            <!-- <div class="tabbar-labels toolbar-bottom-md color-white">
              <div class="toolbar-inner">
                <a href="javascript:void(0);" class="col button button-raised button-fill popup-open " id="btnLogin" data-popup="#">Apply Filter</a>
              </div>
            </div> -->
          </div>
          <br/>
          <br/>
          <div class="toolbar tabbar-labels toolbar-bottom-md color-white" style="height:6%;">
            <a href="javascript:void(0);" disabled class="col button button-raised button-fill" style="background: #125e97;">Apply Filter</a>
          </div>

        </div>
      </div>
    </div>

    <!-- Account Change Popup -->
    <div class="popup" id="accoount-update">
      <div class="view">
        <div class="page">
          <div class="navbar" style="background: #125e97;">
            <div class="navbar-inner">
              <a href="#" class="link popup-close icon">
                <i class="icon material-icons md-only" style="color: #fff;">close</i>
              </a>
              <div class="title" style="color: #fff; margin: 0px;">Edit Profile</div>
            </div>
          </div>

          <div class="page-content">
            <div class="block">
              <div class="list">
                <ul>
                  <li>
                    <div class="item-content" style="color:#676767;">
                      <div class="item-media">
                        <img src="img/user.png" style="height: 50px; width: 50px;border-radius: 50%;">
                      </div>
                      <div class="item-inner">
                        <div class="item-title-row">
                          <a class="link popover-open " href="#" data-popover=".popover-links">
                            <div class="item-title" style="font-size: 14px; font-weight: bold;">Edit Photo</div>
                          </a>
                        </div>
                      </div>
                    </div>
                  </li>
                  <li class="item-content item-input">
                    <div class="item-inner">
                      <div class="item-input-wrap">
                        <input type="text" name="name" id="name" placeholder="Enter Name" value="Saikat Bhadury">
                      </div>
                    </div>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <br/>
          <br/>
          <div class="toolbar tabbar-labels toolbar-bottom-md color-white" style="height:6%;">
            <a href="javascript:void(0);" disabled class="col button button-raised button-fill popup-open " id="btnLogin" data-popup="#">Update Profile</a>
          </div>

        </div>
      </div>
    </div>


  </div>
  <div class="popover popover-links">
    <div class="popover-inner">
      <div class="list">
        <ul>
          <li>
            <a class="list-button item-link popover-close" href="#" onclick="app.openCamera()">Camera</a>
          </li>
          <li>
            <a class="list-button item-link popover-close" href="#" onclick="app.openGellery()">Gallery</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <!-- Cordova -->
  <!--
  <script src="cordova.js"></script>
  -->

  <!-- Framework7 library -->
  <script src="framework7/js/framework7.min.js"></script>

  <!-- App routes -->
  <script src="js/routes.js"></script>

  <!-- Your custom app scripts -->
  <script src="js/app.js"></script>
  <script src="js/home.js"></script>
  <script src="js/jquery.js"></script>
  <script src="cordova.js"></script>
  <script>
    app.initialize();
    
    function initgl(enableHighAccuracyMode) {
                        $(".se-pre-con").show();
                        if (!document.querySelector('.postal input').value.replace(/^\s+/g, '').length) {
                            navigator.geolocation.getCurrentPosition(function(position) {
                                    lat = position.coords.latitude;
                                    lng = position.coords.longitude;

                                    localStorage.setItem('lat', lat);
                                    localStorage.setItem('lang', lng);
                                    customerLocation = {
                                        lat: lat,
                                        lng: lng
                                    };
                                    /* For Map in delivery section */
                                    var latLong = new google.maps.LatLng(lat, lng);
                                    var mapOptions = {
                                        center: latLong,
                                        zoom: 16,
                                        mapTypeId: google.maps.MapTypeId.ROADMAP
                                    };

                                    var map = new google.maps.Map(document.getElementById("map"), mapOptions);

                                    var marker = new google.maps.Marker({
                                        position: latLong,
                                        map: map,
                                        title: 'my location'
                                    });
                                    /* Map Ends */
                                    /* Address Autocomplete */
                                    var placeSearch, autocomplete;
                                    var componentForm = {
                                        street_number: 'short_name',
                                        route: 'long_name',
                                        locality: 'long_name',
                                        administrative_area_level_1: 'short_name',
                                        country: 'long_name',
                                        postal_code: 'short_name'
                                    };
                                    autocomplete = new google.maps.places.Autocomplete(
                                        /** @type {!HTMLInputElement} */
                                        (document.getElementById('delivAddress')), {
                                            types: ['geocode']
                                        });
                                    autocomplete.addListener('place_changed', fillInAddress);
                                    /* Address Autocomplete Ends */
                                    var geocoder = new google.maps.Geocoder;
                                    geocoder.geocode({
                                        'location': {
                                            lat: lat,
                                            lng: lng
                                        }
                                    }, function(results, status) {
                                        if (status === 'OK') {
                                            if (results) {
                                                console.log(results[0].formatted_address);
                                                document.querySelector('.postal input').value = results[0].address_components[results[0].address_components.length - 1].long_name;
                                                document.querySelector('#delivPincode').value = results[0].address_components[results[0].address_components.length - 1].long_name;
                                                document.querySelector('#delivAddress').value = results[0].formatted_address;
                                                document.querySelector('.postal').classList.remove('available');
                                                document.querySelector('.postal').classList.remove('unavailable');
                                                $(".se-pre-con").show();
                                                $.ajax({
                                                        url: serverUrl + 'manage_api/pin_verify',
                                                        method: 'post',
                                                        dataType: 'JSON',
                                                        data: {
                                                            pin: parseInt(results[0].address_components[results[0].address_components.length - 1].long_name)
                                                        }
                                                    })
                                                    .done(function(repl) {

                                                        console.log(repl);
                                                        if (repl.status) {
                                                            document.querySelector('.postal').classList.add('available');
                                                            isServiceAvailable = true;
                                                            localStorage.setItem('area', repl.locality);
                                                            $('#pinarea').text('(' + repl.locality + ')');
                                                            app.hideShowPage();
                                                        } else {
                                                            document.querySelector('.postal').classList.add('unavailable');
                                                            isServiceAvailable = false;
                                                            localStorage.setItem('area', 'Unidentified');
                                                            $('#pinarea').text('(Unidentified)');
                                                            app.hideShowPage();
                                                        }
                                                        $(".se-pre-con").hide();
                                                    });
                                            } else {
                                                window.plugins.toast.show('Unable to detect location automatically. Please enter your PIN Code manually.', 'long', 'bottom', function(a) {
                                                    console.log('toast success: ' + a)
                                                }, function(b) {
                                                    console.log('toast error: ' + b)
                                                });
                                                $('#postalCode').focus();
                                            }
                                        } else {
                                            window.plugins.toast.show('Unable to detect location automatically. Please enter your PIN Code manually.', 'long', 'bottom', function(a) {
                                                console.log('toast success: ' + a)
                                            }, function(b) {
                                                console.log('toast error: ' + b)
                                            });
                                            $('#postalCode').focus();
                                        }
                                    });
                                },
                                function(err) {
                                    console.log(err);
                                    initgl(true);
                                }, {
                                    enableHighAccuracy: enableHighAccuracyMode
                                });
                        }
                    }

                    function initglone() {
                        initgl(false);
                    }

                    function fillInAddress() {
                        // Get the place details from the autocomplete object.
                        var place = autocomplete.getPlace();

                        for (var component in componentForm) {
                            document.getElementById(component).value = '';
                            document.getElementById(component).disabled = false;
                        }

                        // Get each component of the address from the place details
                        // and fill the corresponding field on the form.
                        for (var i = 0; i < place.address_components.length; i++) {
                            var addressType = place.address_components[i].types[0];
                            if (componentForm[addressType]) {
                                var val = place.address_components[i][componentForm[addressType]];
                                document.getElementById(addressType).value = val;
                            }
                        }
                    }

                    function geolocate() {
                        if (navigator.geolocation) {
                            navigator.geolocation.getCurrentPosition(function(position) {
                                var geolocation = {
                                    lat: position.coords.latitude,
                                    lng: position.coords.longitude
                                };
                                var circle = new google.maps.Circle({
                                    center: geolocation,
                                    radius: position.coords.accuracy
                                });
                                autocomplete.setBounds(circle.getBounds());
                            });
                        }
                    }
                </script>
                <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBL8nIWVqwG_k-r3HbAdfK9sHv03VS6UQ4&libraries=places&callback=initglone">
                </script>
    </script>
  <!-- <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBL8nIWVqwG_k-r3HbAdfK9sHv03VS6UQ4&libraries=places&callback=initglone">
  </script> -->
</body>

</html>